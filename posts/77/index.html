<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="agile,devops," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="简介作者重新定义了持续交付，增补了组织管理和系统架构两个维度，并辅助以真实案例，对诸多持续交付原则与实践加以解读，并对持续交付过程中的实践取舍之道加以论述。 持续交付2.0是一种产品研发管理思维框架。 融合了持续交付和精益创业的理念，强调业务和IT的快速闭环，以精益思想为指导，全面贯彻识别和消除一切浪费的理念，通过一系列工作原则与实践，帮助企业以一种可持续方式，高质量、低成本、无风险地快速交付客户">
<meta name="keywords" content="agile,devops">
<meta property="og:type" content="article">
<meta property="og:title" content="持续交付2.0笔记">
<meta property="og:url" content="https://mgxian.dev/posts/77/index.html">
<meta property="og:site_name" content="mgxian&#39;s blog">
<meta property="og:description" content="简介作者重新定义了持续交付，增补了组织管理和系统架构两个维度，并辅助以真实案例，对诸多持续交付原则与实践加以解读，并对持续交付过程中的实践取舍之道加以论述。 持续交付2.0是一种产品研发管理思维框架。 融合了持续交付和精益创业的理念，强调业务和IT的快速闭环，以精益思想为指导，全面贯彻识别和消除一切浪费的理念，通过一系列工作原则与实践，帮助企业以一种可持续方式，高质量、低成本、无风险地快速交付客户">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/89717ef5-acba-41e8-a576-6e4ac96f7157-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/a53e13e6-0a91-4e16-b625-1f6e87aab037-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/d9a51231-6bf7-4a87-9197-7232bf5e9fc5-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/2c947700-5312-4389-ab7d-1db0fc164ba8-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/4eaae23c-1cd3-485f-852e-6c8321926db1-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/1b54d9c9-0143-43af-943d-397b58dcafc7-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/1199bfa2-06b1-41a3-9cbd-e574098ea23a-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/b44b438f-ece5-4688-8c01-86330b8730a9-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/ed9818f4-823d-403a-97fd-efb673e547ed-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/93479d4d-e978-454d-a115-1c4e76082a2a-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/4614cbd1-dc48-4139-942a-8063dc12f226-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/95ad5e88-5d38-46cc-810a-da2a63c438d4-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/4b246ef2-3d55-4743-9d80-4e4cdb3cf9a0-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/cc446e42-eb68-4b08-83fa-6815ad1e53d5-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/e084a7dd-9e52-4bd3-ba32-0f39df64af73-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/51087d51-e360-4df4-ad25-07e5d32c8570-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/6872bfc9-3c33-4db1-8f22-96287a6ed5f2-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/a08c1279-acdb-4e96-9e18-786a76bbf05a-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/95d758dd-0f14-4bb3-b210-90ae8aa89ad5-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/db3b74ad-cca8-4e78-b67f-74653f6e4d76-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/510d85b2-f2ba-42f0-b196-d6df0c38921c-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/2d2394a7-78b3-4710-b0e2-5f5d0615a782-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/51d1396b-5df4-431f-8d11-817ffe3e8256-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/e5684de2-1977-4a95-92a9-de286bdb3809-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/a408111a-7ca0-4cb1-9b5e-6b6a19ef3f70-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/a820ed3e-663b-403c-a9d9-eb812637eb63-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/94486552-394f-4685-9ab7-e86529e96424-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/e7ea4ec9-4671-4f4f-88f2-b941ac8d0ccc-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/54fc7bc6-8f8a-4937-96ce-7f7fb32eeeb7-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/3193bf16-ff47-4601-b031-dd20f23a0654-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/0f3cf1e3-9334-4677-a3be-fcb34a52ea8c-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/c1fc3b75-fb04-4c0a-a64c-f0f37c0bf660-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/2a471e63-8852-4469-898f-715d7446ee55-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/72f67597-bde4-458f-9c45-a3478462fb27-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/b84401a3-fd54-406b-ad47-61a8dd76f974-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/9c45627b-aa3d-4441-8bd2-e1d5affcaadd-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/caa7d62f-9e7e-4722-b3fd-afed0f8f5235-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/5d07dfe5-61d5-4595-b5a6-96a07615f97b-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/2ef8ce1b-1897-4217-8ae1-1c059e2bf4f0-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/7a279225-c12f-4568-8325-c9fce0321733-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/ac9e0a4f-95d2-452b-af9a-eb805831efb3-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/b317b1a3-3c69-43a7-be47-6c48726a20db-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/e38618f6-b215-4536-a606-ec081b1adba2-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/066653ae-8506-4487-af6d-a585f2bacfa5-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/b31d2ade-3f0e-417f-878b-9d6a8ed02ce8-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/9accba66-d32e-492c-9dd7-c870a9de9db8-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/50eaa3ce-f8f1-4e27-8bc4-72629528af0c-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/dd4a0457-56cb-40d9-ad10-3c56f6ff00e9-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/8dacfd01-9396-453a-b874-3b5024119a82-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/deb9361e-7631-47d8-b00b-49deef68e6c0-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/bed85277-ab90-4d5b-945b-30da24decba8-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/0ab4f1e0-af10-4ee6-85c9-bfd63a4b3ad3-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/683a88bd-158e-4cf0-8e5b-2dae2a5fbe90-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/fbbe9d61-73d8-4757-853c-4b0f9d0b7775-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/1093d5a0-98ce-4d97-8a8e-50395e46cc91-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/2aaca913-a5b1-4e7d-8a74-818102a1ad32-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/fa52b456-4502-428f-97f2-623afca1dac0-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/69264403-26a9-429b-8eb1-19880c28311a-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/3b7b4c0b-a39d-4bff-9af1-e7e73c9fc187-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/6691cf0b-d8ef-44ee-9e11-2fcd50c2c865-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/f62af3d3-6acd-43bc-8f2c-d6fa5d874805-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/66f36fcd-baae-4ddf-85ea-9b551ff40e9a-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/f9f2a902-8943-4f65-bfda-067d3049a733-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/1c590a1b-5efd-49fa-be02-a587835df4f0-156946.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/a4e32ea1-5bf9-46bc-a2ee-2e76324a341a-156946.jpg">
<meta property="og:updated_time" content="2022-10-07T07:45:53.256Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="持续交付2.0笔记">
<meta name="twitter:description" content="简介作者重新定义了持续交付，增补了组织管理和系统架构两个维度，并辅助以真实案例，对诸多持续交付原则与实践加以解读，并对持续交付过程中的实践取舍之道加以论述。 持续交付2.0是一种产品研发管理思维框架。 融合了持续交付和精益创业的理念，强调业务和IT的快速闭环，以精益思想为指导，全面贯彻识别和消除一切浪费的理念，通过一系列工作原则与实践，帮助企业以一种可持续方式，高质量、低成本、无风险地快速交付客户">
<meta name="twitter:image" content="https://api2.mubu.com/v3/document_image/89717ef5-acba-41e8-a576-6e4ac96f7157-156946.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 'undefined',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://mgxian.dev/posts/77/"/>





  <title>持续交付2.0笔记 | mgxian's blog</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">mgxian's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description"></h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://mgxian.dev/posts/77/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="mgxian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mgxian's blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">持续交付2.0笔记</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2022-10-06T17:59:15+08:00">
                2022-10-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/DevOps/" itemprop="url" rel="index">
                    <span itemprop="name">DevOps</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>作者重新定义了<code>持续交付</code>，增补了组织管理和系统架构两个维度，并辅助以真实案例，对诸多持续交付原则与实践加以解读，并对持续交付过程中的实践取舍之道加以论述。</p>
<p><code>持续交付2.0</code>是一种产品研发管理思维框架。 融合了<code>持续交付</code>和<code>精益创业</code>的理念，强调业务和IT的快速闭环，以<code>精益思想</code>为指导，全面贯彻识别和消除一切浪费的理念，通过一系列工作原则与实践，帮助企业以一种可持续方式，高质量、低成本、无风险地快速交付客户价值。</p>
<a id="more"></a>
<h3 id="持续交付2-0"><a href="#持续交付2-0" class="headerlink" title="持续交付2.0"></a>持续交付2.0</h3><h4 id="软件产品开发中的活动浪费"><a href="#软件产品开发中的活动浪费" class="headerlink" title="软件产品开发中的活动浪费"></a>软件产品开发中的活动浪费</h4><p><img src="https://api2.mubu.com/v3/document_image/89717ef5-acba-41e8-a576-6e4ac96f7157-156946.jpg" alt=""></p>
<h4 id="双环模型"><a href="#双环模型" class="headerlink" title="双环模型"></a>双环模型</h4><p><img src="https://api2.mubu.com/v3/document_image/a53e13e6-0a91-4e16-b625-1f6e87aab037-156946.jpg" alt=""></p>
<h4 id="4个核心原则"><a href="#4个核心原则" class="headerlink" title="4个核心原则"></a>4个核心原则</h4><p><strong>坚持少做</strong></p>
<ul>
<li>少做，先做简单的事情</li>
<li>想办法对新创意尽早验证</li>
</ul>
<p><strong>持续分解问题</strong></p>
<ul>
<li>对问题的层层分解，可以让团队更了解业务，更早识别出风险。</li>
<li>即便是很大的课题或者大范围的变更，也可以将其分解为一系列小变更，快速解决，并得到反馈，从而尽早消除风险</li>
</ul>
<p><strong>坚持快速反馈</strong></p>
<ul>
<li>只有通过快速反馈，我们才能尽早了解所完成工作的质量和效果</li>
</ul>
<p><strong>持续改进并衡量</strong></p>
<ul>
<li>无论做了什么样的改进，如果无法以某种方式衡量它的结果，就无法证明真的得到了改进</li>
<li>在着手解决每个问题之前，我们都要找到适当的衡量方式，并将其与对应的功能需求放在同等重要的位置上，一起完成</li>
</ul>
<h4 id="持续交付七巧板"><a href="#持续交付七巧板" class="headerlink" title="持续交付七巧板"></a>持续交付七巧板</h4><p><img src="https://api2.mubu.com/v3/document_image/d9a51231-6bf7-4a87-9197-7232bf5e9fc5-156946.jpg" alt=""></p>
<h4 id="相关角色"><a href="#相关角色" class="headerlink" title="相关角色"></a>相关角色</h4><p><img src="https://api2.mubu.com/v3/document_image/2c947700-5312-4389-ab7d-1db0fc164ba8-156946.jpg" alt=""></p>
<h3 id="价值探索环"><a href="#价值探索环" class="headerlink" title="价值探索环"></a>价值探索环</h3><h4 id="工作原则"><a href="#工作原则" class="headerlink" title="工作原则"></a>工作原则</h4><ul>
<li>分解并快速试错</li>
<li>一次只验证一点</li>
<li>允许失败</li>
</ul>
<h4 id="共创与精炼的常用方法"><a href="#共创与精炼的常用方法" class="headerlink" title="共创与精炼的常用方法"></a>共创与精炼的常用方法</h4><p><strong>装饰窗方法</strong>：为新功能预留一个“入口”，让用户能够看到，但实际上并没有真正实现其功能</p>
<p><strong>最小可行特性法</strong>：通常在产品从 1到n的过程中使用</p>
<p><strong>特区法</strong>：在特定用户范围内进行试验，以验证某个新功能的有效性</p>
<p><strong>定向探索法</strong>：针对具有某种特定行为的特定用户群体，依据该用户的具体行为模式，设计调查提纲，有针对性地探索其行为背后的动机</p>
<p><strong>稻草人法</strong>：不开发任何真实的功能，只假装这个功能已经完成了，并向用户展示该功能的真实效果，从而得到用户的真实反馈。与装饰窗方法的区别在于它让用户真实地感受到了功能提供的结果，而事实上并没有开发这个功能</p>
<p><strong>最小可行产品法</strong>：通常是在产品从0到 1 的过程中使用。它是以尽可能少的成本快速开发产品的核心功能，并找到用户，收集真实反馈，验证真实的用户需求，以确定新产品方向和形态的方法，其目标是找到合适的产品形态</p>
<h3 id="快速验证环"><a href="#快速验证环" class="headerlink" title="快速验证环"></a>快速验证环</h3><h4 id="工作原则-1"><a href="#工作原则-1" class="headerlink" title="工作原则"></a>工作原则</h4><p><strong>质量内建</strong>：从生产过程的第一个环节开始 ，就要注重产出物的质量，并且在每个环节中都要开展质量保障活动，消除因质量问题导致的返工及次品率上升，以此降低最终的质量风险，保障进度</p>
<p><strong>消除等待</strong></p>
<p>通过“拉动”让价值流动起来</p>
<ul>
<li>关注点先从“人”移动到“物”</li>
<li>因下游处理能力不足导致的阻塞<img src="https://api2.mubu.com/v3/document_image/4eaae23c-1cd3-485f-852e-6c8321926db1-156946.jpg" alt=""></li>
<li>通过下游拉动方式，让价值流动起来<img src="https://api2.mubu.com/v3/document_image/1b54d9c9-0143-43af-943d-397b58dcafc7-156946.jpg" alt=""></li>
<li>开发工具、提升能力或增加瓶颈入力后，整体吞吐量提升<img src="https://api2.mubu.com/v3/document_image/1199bfa2-06b1-41a3-9cbd-e574098ea23a-156946.jpg" alt=""></li>
</ul>
<p>任务自助化：企业应该在工具平台建设方面改变一下思路，也就是说，通过运用先进的生产技术，使得环境部署、数据统计这一类事务性操作不再依赖“专家型”人才，而是让每个人在其需要时都能够“自助服务”</p>
<p>重复事务自动化，监测一切</p>
<p>对生产系统的监测有两个目的， 一是要确认软件的确在正常运行， 一旦发现异常，我们可以及时采取措施，纠正错误，以免影响用户的使用。 二是要及时得到有效业务数据，验证我们在探索环中提出的假设</p>
<h3 id="持续交付2-0的组织文化"><a href="#持续交付2-0的组织文化" class="headerlink" title="持续交付2.0的组织文化"></a>持续交付2.0的组织文化</h3><h4 id="文化"><a href="#文化" class="headerlink" title="文化"></a>文化</h4><ul>
<li>失败是安全的</li>
<li>相互信任</li>
<li>持续改善</li>
</ul>
<h4 id="文化塑造四步法"><a href="#文化塑造四步法" class="headerlink" title="文化塑造四步法"></a>文化塑造四步法</h4><p>行为决定文化</p>
<p>公司文化转变四步法</p>
<ul>
<li>第一步：定义我们想要做的事情</li>
<li>第二步：定义我们期望的做事方式或方法</li>
<li>第三步：提供相应的培训，使员工具备完成其工作的能力</li>
<li>第四步：设计一些必要的机制或措施来强化我们所鼓励的那些行为</li>
</ul>
<p>谷歌的工程师质量文化</p>
<p><img src="https://api2.mubu.com/v3/document_image/b44b438f-ece5-4688-8c01-86330b8730a9-156946.jpg" alt=""></p>
<h4 id="行动原则"><a href="#行动原则" class="headerlink" title="行动原则"></a>行动原则</h4><ul>
<li>价值导向</li>
<li>快速验证</li>
<li>持续学习</li>
<li>定期回顾</li>
<li>复盘机制</li>
</ul>
<h4 id="度量原则"><a href="#度量原则" class="headerlink" title="度量原则"></a>度量原则</h4><p>度量指标的4类属性</p>
<p><strong>引领性指标</strong>是指那些对达成预定目标有着重要作用的指标。通常，一个好的引领性指标有以下两个基本特点：第一，它具有预见性；第二，团队成员可以影响这些指标。</p>
<p><strong>滞后性指标</strong>是指那些为了达成最重要目标的跟踪性指标，如销售收入、利润率、市场份额、客户满意度等研究分析都属于滞后性指标。当你得到这些结果的时候，导致这些结果的事情早已结束，你得到的都是历史性结果数据。</p>
<p><strong>可观测性指标</strong>是指可以被客观监测到，但无法通过直接行动来改变的指标。</p>
<p><strong>可行动性指标</strong>是指在能力可触达范围内，通过团队努力，可以设法直接改变的指标。</p>
<p><strong>软件度量项的相关性示意图</strong></p>
<p><img src="https://api2.mubu.com/v3/document_image/ed9818f4-823d-403a-97fd-efb673e547ed-156946.jpg" alt=""></p>
<p>度量的目标是改善</p>
<h4 id="改善套路"><a href="#改善套路" class="headerlink" title="改善套路"></a>改善套路</h4><p>迭代改进，使用PDCA循环</p>
<p><img src="https://api2.mubu.com/v3/document_image/93479d4d-e978-454d-a115-1c4e76082a2a-156946.jpg" alt=""></p>
<h3 id="持续交付的软件架构系统"><a href="#持续交付的软件架构系统" class="headerlink" title="持续交付的软件架构系统"></a>持续交付的软件架构系统</h3><h4 id="大系统小做原则"><a href="#大系统小做原则" class="headerlink" title="大系统小做原则"></a>大系统小做原则</h4><p>持续交付架构要求</p>
<ul>
<li>为测试而设计（ design for test ）</li>
<li>为部署而设计（ design for deployment ）</li>
<li>为监控而设计（ design for monitor ）</li>
<li>为扩展而设计（ design for scale ）</li>
<li>为失效而设计（ design for failure ）</li>
</ul>
<p>系统拆分原则</p>
<ul>
<li>每个组件或服务有清晰的业务职责</li>
<li>高内聚、低耦合</li>
<li>整个系统易于构建与测试</li>
<li>使团队成员之间的沟通协作更加顺畅</li>
</ul>
<h4 id="常见架构模式"><a href="#常见架构模式" class="headerlink" title="常见架构模式"></a>常见架构模式</h4><ul>
<li>微核架构</li>
<li>微服务架构</li>
<li>巨石应用</li>
</ul>
<h4 id="架构改造实施模式"><a href="#架构改造实施模式" class="headerlink" title="架构改造实施模式"></a>架构改造实施模式</h4><p>拆迁者模式：重写所有代码</p>
<p>绞杀者模式：保持原来的遗留系统不变，当需要开发新的功能时，重新开发一个服务，实现新的功能。通过不断构建新的服务，逐步使遗留系统失效，并最终替代它</p>
<p>修缮者模式：将遗留系统的部分功能与其余部分隔离，以新的架构进行单独改善。在改善的同时，需要保证与其他部分仍能协同工作。这种方式与绞杀者模式类似，但改造只发生在同一个系统内部，而非遗留系统外部</p>
<p>数据库的拆分方法</p>
<ul>
<li>详细了解数据库结构，包括外键约束、共享的可变数据以及事务性边界等</li>
<li>先拆分数据库，再进行数据迁移</li>
<li>数据库双写无误后，找到程序架构中的缝隙</li>
<li>将拆分出来的程序模块和数据库组合在一起，形成微服务</li>
</ul>
<h3 id="业务需求协作管理"><a href="#业务需求协作管理" class="headerlink" title="业务需求协作管理"></a>业务需求协作管理</h3><p><strong>不平等的 INVEST 原则</strong><br>EST &gt; INV</p>
<h4 id="五大拆分技法"><a href="#五大拆分技法" class="headerlink" title="五大拆分技法"></a>五大拆分技法</h4><ul>
<li><p>路径拆分法<img src="https://api2.mubu.com/v3/document_image/4614cbd1-dc48-4139-942a-8063dc12f226-156946.jpg" alt=""><img src="https://api2.mubu.com/v3/document_image/95ad5e88-5d38-46cc-810a-da2a63c438d4-156946.jpg" alt=""></p>
</li>
<li><p>接触点拆分<img src="https://api2.mubu.com/v3/document_image/4b246ef2-3d55-4743-9d80-4e4cdb3cf9a0-156946.jpg" alt=""></p>
</li>
<li><p>按数据类型或格式拆分<img src="https://api2.mubu.com/v3/document_image/cc446e42-eb68-4b08-83fa-6815ad1e53d5-156946.jpg" alt=""></p>
</li>
<li><p>按规则拆分<img src="https://api2.mubu.com/v3/document_image/e084a7dd-9e52-4bd3-ba32-0f39df64af73-156946.jpg" alt=""></p>
</li>
<li><p>接探索路径拆分<img src="https://api2.mubu.com/v3/document_image/51087d51-e360-4df4-ad25-07e5d32c8570-156946.jpg" alt=""></p>
</li>
</ul>
<h4 id="七大组成部分"><a href="#七大组成部分" class="headerlink" title="七大组成部分"></a>七大组成部分</h4><p><img src="https://api2.mubu.com/v3/document_image/6872bfc9-3c33-4db1-8f22-96287a6ed5f2-156946.jpg" alt=""><img src="https://api2.mubu.com/v3/document_image/a08c1279-acdb-4e96-9e18-786a76bbf05a-156946.jpg" alt=""></p>
<h4 id="需求分析与管理工具集"><a href="#需求分析与管理工具集" class="headerlink" title="需求分析与管理工具集"></a>需求分析与管理工具集</h4><p>用户故事地图<br><img src="https://api2.mubu.com/v3/document_image/95d758dd-0f14-4bb3-b210-90ae8aa89ad5-156946.jpg" alt=""></p>
<p>用户故事树<br><img src="https://api2.mubu.com/v3/document_image/db3b74ad-cca8-4e78-b67f-74653f6e4d76-156946.jpg" alt=""></p>
<p>依赖关系图<br><img src="https://api2.mubu.com/v3/document_image/510d85b2-f2ba-42f0-b196-d6df0c38921c-156946.jpg" alt=""></p>
<h4 id="可视化故事墙"><a href="#可视化故事墙" class="headerlink" title="可视化故事墙"></a>可视化故事墙</h4><p><img src="https://api2.mubu.com/v3/document_image/2d2394a7-78b3-4710-b0e2-5f5d0615a782-156946.jpg" alt=""><img src="https://api2.mubu.com/v3/document_image/51d1396b-5df4-431f-8d11-817ffe3e8256-156946.jpg" alt=""></p>
<h4 id="故事验证"><a href="#故事验证" class="headerlink" title="故事验证"></a>故事验证</h4><p><img src="https://api2.mubu.com/v3/document_image/e5684de2-1977-4a95-92a9-de286bdb3809-156946.jpg" alt=""></p>
<h3 id="部署流水线原则与工具设计"><a href="#部署流水线原则与工具设计" class="headerlink" title="部署流水线原则与工具设计"></a>部署流水线原则与工具设计</h3><h4 id="流水线的设计原则"><a href="#流水线的设计原则" class="headerlink" title="流水线的设计原则"></a>流水线的设计原则</h4><ul>
<li>一次构建，多次使用</li>
<li>与业务逻辑松耦合</li>
<li>并行化原则</li>
<li>快速反馈优先</li>
<li>重要反馈优先</li>
</ul>
<h4 id="工具链总体架构"><a href="#工具链总体架构" class="headerlink" title="工具链总体架构"></a>工具链总体架构</h4><p><img src="https://api2.mubu.com/v3/document_image/a408111a-7ca0-4cb1-9b5e-6b6a19ef3f70-156946.jpg" alt=""></p>
<h4 id="部署流水线示例"><a href="#部署流水线示例" class="headerlink" title="部署流水线示例"></a>部署流水线示例</h4><p><img src="https://api2.mubu.com/v3/document_image/a820ed3e-663b-403c-a9d9-eb812637eb63-156946.jpg" alt=""></p>
<h4 id="部署流水线执行过程示意图"><a href="#部署流水线执行过程示意图" class="headerlink" title="部署流水线执行过程示意图"></a>部署流水线执行过程示意图</h4><p><img src="https://api2.mubu.com/v3/document_image/94486552-394f-4685-9ab7-e86529e96424-156946.jpg" alt=""><img src="https://api2.mubu.com/v3/document_image/e7ea4ec9-4671-4f4f-88f2-b941ac8d0ccc-156946.jpg" alt=""></p>
<h4 id="编译构建管理服务"><a href="#编译构建管理服务" class="headerlink" title="编译构建管理服务"></a>编译构建管理服务</h4><p><img src="https://api2.mubu.com/v3/document_image/54fc7bc6-8f8a-4937-96ce-7f7fb32eeeb7-156946.jpg" alt=""></p>
<h4 id="自动化测试管理服务"><a href="#自动化测试管理服务" class="headerlink" title="自动化测试管理服务"></a>自动化测试管理服务</h4><p><img src="https://api2.mubu.com/v3/document_image/3193bf16-ff47-4601-b031-dd20f23a0654-156946.jpg" alt=""></p>
<h4 id="软件部署管理服务"><a href="#软件部署管理服务" class="headerlink" title="软件部署管理服务"></a>软件部署管理服务</h4><p>使用Puppet/Chef/Ansible/SaltStack</p>
<h4 id="基础环境管理服务"><a href="#基础环境管理服务" class="headerlink" title="基础环境管理服务"></a>基础环境管理服务</h4><p><img src="https://api2.mubu.com/v3/document_image/0f3cf1e3-9334-4677-a3be-fcb34a52ea8c-156946.jpg" alt=""></p>
<h4 id="多种多样的部署流水线"><a href="#多种多样的部署流水线" class="headerlink" title="多种多样的部署流水线"></a>多种多样的部署流水线</h4><p>多组件的部署流水线<br><img src="https://api2.mubu.com/v3/document_image/c1fc3b75-fb04-4c0a-a64c-f0f37c0bf660-156946.jpg" alt=""></p>
<p>个人部署流水线<br><img src="https://api2.mubu.com/v3/document_image/2a471e63-8852-4469-898f-715d7446ee55-156946.jpg" alt=""></p>
<h3 id="利于集成的分支策略"><a href="#利于集成的分支策略" class="headerlink" title="利于集成的分支策略"></a>利于集成的分支策略</h3><h4 id="常见分支开发模式"><a href="#常见分支开发模式" class="headerlink" title="常见分支开发模式"></a>常见分支开发模式</h4><ul>
<li>主干开发，主干发布（Trunk-based Development &amp; Release)</li>
<li>主干开发，分支发布（Trunk-based Development &amp; Branch-based Release)</li>
<li>分支开发，主干发布（Branch-based Development &amp; Trunk-based Release)</li>
</ul>
<h4 id="分支模式的演化"><a href="#分支模式的演化" class="headerlink" title="分支模式的演化"></a>分支模式的演化</h4><p>三驾马车分支模式<br><img src="https://api2.mubu.com/v3/document_image/72f67597-bde4-458f-9c45-a3478462fb27-156946.jpg" alt=""></p>
<p>Gitflow 分支模式<br><img src="https://api2.mubu.com/v3/document_image/b84401a3-fd54-406b-ad47-61a8dd76f974-156946.jpg" alt=""></p>
<p>GitHubFlow 分支模式<br><img src="https://api2.mubu.com/v3/document_image/9c45627b-aa3d-4441-8bd2-e1d5affcaadd-156946.jpg" alt=""></p>
<h4 id="分支策略的选择"><a href="#分支策略的选择" class="headerlink" title="分支策略的选择"></a>分支策略的选择</h4><p>版本发布模式三要素</p>
<p><img src="https://api2.mubu.com/v3/document_image/caa7d62f-9e7e-4722-b3fd-afed0f8f5235-156946.jpg" alt=""></p>
<p>常用模式</p>
<ul>
<li>项目制发布模式</li>
<li>发布火车模式</li>
<li>城际快线模式</li>
</ul>
<p>分支策略与发布周期的关系</p>
<p><img src="https://api2.mubu.com/v3/document_image/5d07dfe5-61d5-4595-b5a6-96a07615f97b-156946.jpg" alt=""></p>
<h4 id="持续交付2-0-选择分支模式的原则"><a href="#持续交付2-0-选择分支模式的原则" class="headerlink" title="持续交付2.0 选择分支模式的原则"></a>持续交付2.0 选择分支模式的原则</h4><ul>
<li>分支越少越好，最好只有一条主干</li>
<li>分支生存周期越短越好，最好在3天以内</li>
<li>在业务允许的前提下，发布周期越短越好</li>
</ul>
<h3 id="持续集成"><a href="#持续集成" class="headerlink" title="持续集成"></a>持续集成</h3><h4 id="六步提交法"><a href="#六步提交法" class="headerlink" title="六步提交法"></a>六步提交法</h4><p><img src="https://api2.mubu.com/v3/document_image/2ef8ce1b-1897-4217-8ae1-1c059e2bf4f0-156946.jpg" alt=""></p>
<h4 id="自查表"><a href="#自查表" class="headerlink" title="自查表"></a>自查表</h4><ul>
<li>主干开发，频繁提交</li>
<li>每次提交应该是一个完整的任务</li>
<li>让提交构建在 10 分钟以内完成</li>
<li>提交构建失败后应禁止团队成员提交新代码，也不许其他人检出该代码</li>
<li>立即在 10 分钟内修复已失败的提交构建，否则回滚代码</li>
<li>自动化构建验证通过后，对软件质量有比较大的信心</li>
</ul>
<h4 id="速度与质量的权衡"><a href="#速度与质量的权衡" class="headerlink" title="速度与质量的权衡"></a>速度与质量的权衡</h4><p>分级构建</p>
<p><img src="https://api2.mubu.com/v3/document_image/7a279225-c12f-4568-8325-c9fce0321733-156946.jpg" alt=""></p>
<p>团队将所有自动化验证分成两部分。将那些运行速度较快、反馈质量高的测试用例，放人提交构建中 ， 而将那些运行较慢或者不经常失败的测试用例放在次级构建环节，作为次级构建验证的内容。当提交构建验证成功之后，马上触发次级构建的执行</p>
<h4 id="在团队中实施持续集成实践"><a href="#在团队中实施持续集成实践" class="headerlink" title="在团队中实施持续集成实践"></a>在团队中实施持续集成实践</h4><p>持续集成实施五步法</p>
<p><img src="https://api2.mubu.com/v3/document_image/ac9e0a4f-95d2-452b-af9a-eb805831efb3-156946.jpg" alt=""></p>
<p>方法</p>
<ul>
<li>构建脚本化 ，搭建持续集成框架</li>
<li>向构建中添加已有的自动化验证集合</li>
<li>选择有利于持续集成的分支策略</li>
<li>建立六步提交法</li>
<li>持续优化</li>
<li>工程师改变习惯，并提升技能</li>
</ul>
<h4 id="分支策略与部署流水线"><a href="#分支策略与部署流水线" class="headerlink" title="分支策略与部署流水线"></a>分支策略与部署流水线</h4><ul>
<li>主干开发，主干发布<img src="https://api2.mubu.com/v3/document_image/b317b1a3-3c69-43a7-be47-6c48726a20db-156946.jpg" alt=""></li>
<li>主干开发，分支发布<img src="https://api2.mubu.com/v3/document_image/e38618f6-b215-4536-a606-ec081b1adba2-156946.jpg" alt=""></li>
<li>分支开发，主干发布<img src="https://api2.mubu.com/v3/document_image/066653ae-8506-4487-af6d-a585f2bacfa5-156946.jpg" alt=""></li>
<li>多组件集成<img src="https://api2.mubu.com/v3/document_image/b31d2ade-3f0e-417f-878b-9d6a8ed02ce8-156946.jpg" alt=""><h3 id="自动化测试策略与方法"><a href="#自动化测试策略与方法" class="headerlink" title="自动化测试策略与方法"></a>自动化测试策略与方法</h3><h4 id="测试四象限"><a href="#测试四象限" class="headerlink" title="测试四象限"></a>测试四象限</h4><img src="https://api2.mubu.com/v3/document_image/9accba66-d32e-492c-9dd7-c870a9de9db8-156946.jpg" alt=""><h4 id="微核架构的测试金字塔"><a href="#微核架构的测试金字塔" class="headerlink" title="微核架构的测试金字塔"></a>微核架构的测试金字塔</h4><img src="https://api2.mubu.com/v3/document_image/50eaa3ce-f8f1-4e27-8bc4-72629528af0c-156946.jpg" alt=""><h4 id="微服务应用的测试金字塔"><a href="#微服务应用的测试金字塔" class="headerlink" title="微服务应用的测试金字塔"></a>微服务应用的测试金字塔</h4><img src="https://api2.mubu.com/v3/document_image/dd4a0457-56cb-40d9-ad10-3c56f6ff00e9-156946.jpg" alt=""><img src="https://api2.mubu.com/v3/document_image/8dacfd01-9396-453a-b874-3b5024119a82-156946.jpg" alt=""><h4 id="自动化测试的实践原则"><a href="#自动化测试的实践原则" class="headerlink" title="自动化测试的实践原则"></a>自动化测试的实践原则</h4></li>
<li>自动化测试用例运行次数越多，平均成本越低，收益就越大</li>
<li>自动化测试用例之间应该尽可能相互独立，互不影响</li>
<li>在质量有保障的前提下，自动化测试用例的数量越少越好</li>
<li>遗留代码的自动化测试编写应该从代码热区开始</li>
<li>自动化测试用例从测试金字塔的中间层开始补充，投入产出比最高<h3 id="软件配置管理"><a href="#软件配置管理" class="headerlink" title="软件配置管理"></a>软件配置管理</h3><h4 id="将一切纳入配置管理"><a href="#将一切纳入配置管理" class="headerlink" title="将一切纳入配置管理"></a>将一切纳入配置管理</h4></li>
</ul>
<p>我们要通过软件配置管理获得两种基本能力，它们分别是可追溯性和可重现性，从而提升软件整个生命周期管理的安全性，并提高团队协作效率</p>
<p>可追溯性是指任何人在获得授权的前提下，能够找到该软件的任何变更历史，即对任何一次软件变更，都可以准确地回答 5W1H ，即谁（ who ）、什么时间（ when ）、做了什么( what ）、为什么（ why ）、如何做的（ how ）</p>
<p>可重现性是指任何人在获得授权的前提下，能够重现从过去到现在之间任意时间点的软件状态</p>
<p><strong>软件配置管理的范围</strong></p>
<p><img src="https://api2.mubu.com/v3/document_image/deb9361e-7631-47d8-b00b-49deef68e6c0-156946.jpg" alt=""></p>
<p><strong>软件配置管理原则</strong></p>
<ul>
<li>一切皆有版本</li>
<li>共享唯一受信源</li>
<li>标准化与自动化</li>
</ul>
<h4 id="软件配置项的管理"><a href="#软件配置项的管理" class="headerlink" title="软件配置项的管理"></a>软件配置项的管理</h4><p><strong>二进制与配置项的分离</strong></p>
<p><img src="https://api2.mubu.com/v3/document_image/bed85277-ab90-4d5b-945b-30da24decba8-156946.jpg" alt=""></p>
<p><strong>配置信息的版本管理</strong></p>
<ul>
<li>环境配置项：域名、端口等</li>
<li>应用配置项：内存大小、数据库连接池大小等</li>
<li>业务配置项：功能特性开关</li>
</ul>
<p><strong>配置的分类</strong><br><img src="https://api2.mubu.com/v3/document_image/0ab4f1e0-af10-4ee6-85c9-bfd63a4b3ad3-156946.jpg" alt=""></p>
<h4 id="数据的版本管理"><a href="#数据的版本管理" class="headerlink" title="数据的版本管理"></a>数据的版本管理</h4><p>数据库结构变更存储在源代码管理</p>
<p>数据文件数据文件存在远程文件系统，源代码里存储URI</p>
<h4 id="需求与源代码的版本关联"><a href="#需求与源代码的版本关联" class="headerlink" title="需求与源代码的版本关联"></a>需求与源代码的版本关联</h4><h4 id="检查版本管理"><a href="#检查版本管理" class="headerlink" title="检查版本管理"></a>检查版本管理</h4><ul>
<li>产品源代码和测试代码是否放入了版本控制系统</li>
<li>软件应用的配置信息是否放入了版本控制系统</li>
<li>各类环境的系统配置是否放入了版本控制系统</li>
<li>自动化的构建和部署脚本是否放入了版本控制系统</li>
<li>软件包是否进行了版本管理</li>
</ul>
<h4 id="软件配置管理自检查"><a href="#软件配置管理自检查" class="headerlink" title="软件配置管理自检查"></a>软件配置管理自检查</h4><ul>
<li>只要从源代码仓库中检出产品源代码仓库，就可以一键式自动化地构建出完整软件包吗？</li>
<li>在没有他人的帮助下，任何团队成员都可以一键式自动化搭建出一套应用软件系统，用于体验产品新功能吗？</li>
</ul>
<h3 id="低风险发布"><a href="#低风险发布" class="headerlink" title="低风险发布"></a>低风险发布</h3><h4 id="降低发布风险的方法"><a href="#降低发布风险的方法" class="headerlink" title="降低发布风险的方法"></a>降低发布风险的方法</h4><p>蓝绿部署<br><img src="https://api2.mubu.com/v3/document_image/683a88bd-158e-4cf0-8e5b-2dae2a5fbe90-156946.jpg" alt=""><br><img src="https://api2.mubu.com/v3/document_image/fbbe9d61-73d8-4757-853c-4b0f9d0b7775-156946.jpg" alt=""></p>
<p>滚动部署<br><img src="https://api2.mubu.com/v3/document_image/1093d5a0-98ce-4d97-8a8e-50395e46cc91-156946.jpg" alt=""></p>
<p>金丝雀发布与灰度发布<br><img src="https://api2.mubu.com/v3/document_image/2aaca913-a5b1-4e7d-8a74-818102a1ad32-156946.jpg" alt=""><img src="https://api2.mubu.com/v3/document_image/fa52b456-4502-428f-97f2-623afca1dac0-156946.jpg" alt=""></p>
<p>暗部署<br><img src="https://api2.mubu.com/v3/document_image/69264403-26a9-429b-8eb1-19880c28311a-156946.jpg" alt=""></p>
<h4 id="高频发布支撑技术"><a href="#高频发布支撑技术" class="headerlink" title="高频发布支撑技术"></a>高频发布支撑技术</h4><p><strong>拆分功能</strong>：将一个功能进行分解，分解为更小的在一个开发周期 内能够完成的功能集</p>
<p><strong>先后再前</strong>：先实现服务端功能，再实现用户界面。 即首先实现用户不可见的那部分功能，同时要确保不影响原有的功能</p>
<p>功能开关技术<br><img src="https://api2.mubu.com/v3/document_image/3b7b4c0b-a39d-4bff-9af1-e7e73c9fc187-156946.jpg" alt=""></p>
<p>数据迁移技术</p>
<ul>
<li>只增不删</li>
<li>数据迁移步骤<img src="https://api2.mubu.com/v3/document_image/6691cf0b-d8ef-44ee-9e11-2fcd50c2c865-156946.jpg" alt=""></li>
</ul>
<p>抽象分支方法<br><img src="https://api2.mubu.com/v3/document_image/f62af3d3-6acd-43bc-8f2c-d6fa5d874805-156946.jpg" alt=""></p>
<h4 id="推迟发布动机的渐进增强环"><a href="#推迟发布动机的渐进增强环" class="headerlink" title="推迟发布动机的渐进增强环"></a>推迟发布动机的渐进增强环</h4><p><img src="https://api2.mubu.com/v3/document_image/66f36fcd-baae-4ddf-85ea-9b551ff40e9a-156946.jpg" alt=""></p>
<h3 id="监测与决策"><a href="#监测与决策" class="headerlink" title="监测与决策"></a>监测与决策</h3><h4 id="生产监测范围"><a href="#生产监测范围" class="headerlink" title="生产监测范围"></a>生产监测范围</h4><p>后台服务的监测</p>
<ul>
<li>基础监测</li>
<li>应用监测</li>
<li>业务监测</li>
</ul>
<p>分发软件的监测</p>
<ul>
<li>基础监测是软件所运行的基础环境（如移动设备的机型、操作系统、内存等）的运行情况，以及与服务器的连接情况</li>
<li>应用监测是软件应用本身的健康状态（如内存使用、程序崩横、无晌应、与后台服务器的通信情况等）</li>
<li>业务监测是用户的使用数据，如所在页面、停留时间、用户操作等</li>
</ul>
<h4 id="数据监测体系"><a href="#数据监测体系" class="headerlink" title="数据监测体系"></a>数据监测体系</h4><p>收集与处理<br><img src="https://api2.mubu.com/v3/document_image/f9f2a902-8943-4f65-bfda-067d3049a733-156946.jpg" alt=""></p>
<p>数据的标准化<br><img src="https://api2.mubu.com/v3/document_image/1c590a1b-5efd-49fa-be02-a587835df4f0-156946.jpg" alt=""></p>
<p>监测数据体系及其能力衡量</p>
<ul>
<li>正确性，即收集到的数据与事实的一致性。</li>
<li>全面性，即收集到的数据信息是否足以支持团队做出决策。</li>
<li>及时性，即数据的发生到能够支持决策所需要的处理时间足够短。</li>
</ul>
<h4 id="问题处理体系"><a href="#问题处理体系" class="headerlink" title="问题处理体系"></a>问题处理体系</h4><p>告警海洋与智能化管理</p>
<ul>
<li>通过关联分析，让监控点离问题发生地更近</li>
<li>通过动态阁值设定合理的告警</li>
<li>定期梳理告警设置，清理不必要的告警</li>
<li>通过人工智能动态解除告警</li>
</ul>
<p>问题处理是一个学习过程<br><img src="https://api2.mubu.com/v3/document_image/a4e32ea1-5bf9-46bc-a2ee-2e76324a341a-156946.jpg" alt=""></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/agile/" rel="tag"># agile</a>
          
            <a href="/tags/devops/" rel="tag"># devops</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/posts/76/" rel="next" title="基于错误预算的报警">
                <i class="fa fa-chevron-left"></i> 基于错误预算的报警
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="mgxian" />
          <p class="site-author-name" itemprop="name">mgxian</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">77</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">61</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/mgxian" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#简介"><span class="nav-number">1.</span> <span class="nav-text">简介</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#持续交付2-0"><span class="nav-number">2.</span> <span class="nav-text">持续交付2.0</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#软件产品开发中的活动浪费"><span class="nav-number">2.1.</span> <span class="nav-text">软件产品开发中的活动浪费</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#双环模型"><span class="nav-number">2.2.</span> <span class="nav-text">双环模型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4个核心原则"><span class="nav-number">2.3.</span> <span class="nav-text">4个核心原则</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#持续交付七巧板"><span class="nav-number">2.4.</span> <span class="nav-text">持续交付七巧板</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#相关角色"><span class="nav-number">2.5.</span> <span class="nav-text">相关角色</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#价值探索环"><span class="nav-number">3.</span> <span class="nav-text">价值探索环</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#工作原则"><span class="nav-number">3.1.</span> <span class="nav-text">工作原则</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#共创与精炼的常用方法"><span class="nav-number">3.2.</span> <span class="nav-text">共创与精炼的常用方法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#快速验证环"><span class="nav-number">4.</span> <span class="nav-text">快速验证环</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#工作原则-1"><span class="nav-number">4.1.</span> <span class="nav-text">工作原则</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#持续交付2-0的组织文化"><span class="nav-number">5.</span> <span class="nav-text">持续交付2.0的组织文化</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#文化"><span class="nav-number">5.1.</span> <span class="nav-text">文化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#文化塑造四步法"><span class="nav-number">5.2.</span> <span class="nav-text">文化塑造四步法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#行动原则"><span class="nav-number">5.3.</span> <span class="nav-text">行动原则</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#度量原则"><span class="nav-number">5.4.</span> <span class="nav-text">度量原则</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#改善套路"><span class="nav-number">5.5.</span> <span class="nav-text">改善套路</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#持续交付的软件架构系统"><span class="nav-number">6.</span> <span class="nav-text">持续交付的软件架构系统</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#大系统小做原则"><span class="nav-number">6.1.</span> <span class="nav-text">大系统小做原则</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#常见架构模式"><span class="nav-number">6.2.</span> <span class="nav-text">常见架构模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#架构改造实施模式"><span class="nav-number">6.3.</span> <span class="nav-text">架构改造实施模式</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#业务需求协作管理"><span class="nav-number">7.</span> <span class="nav-text">业务需求协作管理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#五大拆分技法"><span class="nav-number">7.1.</span> <span class="nav-text">五大拆分技法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#七大组成部分"><span class="nav-number">7.2.</span> <span class="nav-text">七大组成部分</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#需求分析与管理工具集"><span class="nav-number">7.3.</span> <span class="nav-text">需求分析与管理工具集</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#可视化故事墙"><span class="nav-number">7.4.</span> <span class="nav-text">可视化故事墙</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#故事验证"><span class="nav-number">7.5.</span> <span class="nav-text">故事验证</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#部署流水线原则与工具设计"><span class="nav-number">8.</span> <span class="nav-text">部署流水线原则与工具设计</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#流水线的设计原则"><span class="nav-number">8.1.</span> <span class="nav-text">流水线的设计原则</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#工具链总体架构"><span class="nav-number">8.2.</span> <span class="nav-text">工具链总体架构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#部署流水线示例"><span class="nav-number">8.3.</span> <span class="nav-text">部署流水线示例</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#部署流水线执行过程示意图"><span class="nav-number">8.4.</span> <span class="nav-text">部署流水线执行过程示意图</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#编译构建管理服务"><span class="nav-number">8.5.</span> <span class="nav-text">编译构建管理服务</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#自动化测试管理服务"><span class="nav-number">8.6.</span> <span class="nav-text">自动化测试管理服务</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#软件部署管理服务"><span class="nav-number">8.7.</span> <span class="nav-text">软件部署管理服务</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#基础环境管理服务"><span class="nav-number">8.8.</span> <span class="nav-text">基础环境管理服务</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#多种多样的部署流水线"><span class="nav-number">8.9.</span> <span class="nav-text">多种多样的部署流水线</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#利于集成的分支策略"><span class="nav-number">9.</span> <span class="nav-text">利于集成的分支策略</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#常见分支开发模式"><span class="nav-number">9.1.</span> <span class="nav-text">常见分支开发模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#分支模式的演化"><span class="nav-number">9.2.</span> <span class="nav-text">分支模式的演化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#分支策略的选择"><span class="nav-number">9.3.</span> <span class="nav-text">分支策略的选择</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#持续交付2-0-选择分支模式的原则"><span class="nav-number">9.4.</span> <span class="nav-text">持续交付2.0 选择分支模式的原则</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#持续集成"><span class="nav-number">10.</span> <span class="nav-text">持续集成</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#六步提交法"><span class="nav-number">10.1.</span> <span class="nav-text">六步提交法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#自查表"><span class="nav-number">10.2.</span> <span class="nav-text">自查表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#速度与质量的权衡"><span class="nav-number">10.3.</span> <span class="nav-text">速度与质量的权衡</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#在团队中实施持续集成实践"><span class="nav-number">10.4.</span> <span class="nav-text">在团队中实施持续集成实践</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#分支策略与部署流水线"><span class="nav-number">10.5.</span> <span class="nav-text">分支策略与部署流水线</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#自动化测试策略与方法"><span class="nav-number">11.</span> <span class="nav-text">自动化测试策略与方法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#测试四象限"><span class="nav-number">11.1.</span> <span class="nav-text">测试四象限</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#微核架构的测试金字塔"><span class="nav-number">11.2.</span> <span class="nav-text">微核架构的测试金字塔</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#微服务应用的测试金字塔"><span class="nav-number">11.3.</span> <span class="nav-text">微服务应用的测试金字塔</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#自动化测试的实践原则"><span class="nav-number">11.4.</span> <span class="nav-text">自动化测试的实践原则</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#软件配置管理"><span class="nav-number">12.</span> <span class="nav-text">软件配置管理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#将一切纳入配置管理"><span class="nav-number">12.1.</span> <span class="nav-text">将一切纳入配置管理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#软件配置项的管理"><span class="nav-number">12.2.</span> <span class="nav-text">软件配置项的管理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#数据的版本管理"><span class="nav-number">12.3.</span> <span class="nav-text">数据的版本管理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#需求与源代码的版本关联"><span class="nav-number">12.4.</span> <span class="nav-text">需求与源代码的版本关联</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#检查版本管理"><span class="nav-number">12.5.</span> <span class="nav-text">检查版本管理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#软件配置管理自检查"><span class="nav-number">12.6.</span> <span class="nav-text">软件配置管理自检查</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#低风险发布"><span class="nav-number">13.</span> <span class="nav-text">低风险发布</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#降低发布风险的方法"><span class="nav-number">13.1.</span> <span class="nav-text">降低发布风险的方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#高频发布支撑技术"><span class="nav-number">13.2.</span> <span class="nav-text">高频发布支撑技术</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#推迟发布动机的渐进增强环"><span class="nav-number">13.3.</span> <span class="nav-text">推迟发布动机的渐进增强环</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#监测与决策"><span class="nav-number">14.</span> <span class="nav-text">监测与决策</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#生产监测范围"><span class="nav-number">14.1.</span> <span class="nav-text">生产监测范围</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#数据监测体系"><span class="nav-number">14.2.</span> <span class="nav-text">数据监测体系</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#问题处理体系"><span class="nav-number">14.3.</span> <span class="nav-text">问题处理体系</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">mgxian</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

</body>
</html>
